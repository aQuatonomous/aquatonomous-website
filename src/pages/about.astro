---
import Contactform from "@components/contactform.astro";
import { Picture } from "astro:assets";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";
import Layout from "@layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import roboboatImage from "assets/roboboat.png";
---
<div id="container" class="fixed top-0 left-0 w-screen h-screen z-5 pointer-events-none"></div>
<div class="fixed w-screen h-screen bg-radial-bottom-white from-white to-transparent [background-size:100%_100%]"></div>

<Layout title="About">
  <Container class="relative z-10">
    <Sectionhead>
      <Fragment slot="title">About ‚ÄúaQua‚Äù üåä</Fragment>
      <Fragment slot="desc">WHO ARE WE?</Fragment>
    </Sectionhead>

    <div class="mx-auto max-w-4xl mt-8">
      <div>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
            ‚ÄúaQuatonomous,‚Äù a blend of the words ‚Äúaqua,‚Äù ‚ÄúQueen‚Äôs,‚Äù and ‚Äúautonomous,‚Äù is Smith Engineering‚Äôs newest student-led interdisciplinary design team. 
        </p>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
            Founded in 2023, our team has rapidly grown to over 35 passionate members, with a focus on continual expansion and innovation. Our mission centers on constructing and programming a state-of-the-art solar-powered autonomous surface vessel (ASV), providing students with a unique, hands-on opportunity to engage with cutting edge autonomous vehicle technology. We aim to be at the forefront of AI-driven autonomy and sustainable design, integrating the expertise of our diverse sub-teams: mechanical, electrical, perception, ecological & water research, business, and core-autonomy. 
        </p>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
            Our ASV project not only advances autonomous maritime technology but also catalyzes sustainability and ecological restoration efforts. Our team offers the boat to water and environmental researchers as a research vessel and measurement station.  
        </p>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
            We encourage students from all disciplines to join us, bringing their unique perspectives and skills to advance autonomous maritime technology. Through collaboration and innovation, we aim to make significant strides interdisciplinary water research and autonomous vehicle design.        </p>
      </div>
    </div>

    <Sectionhead>
      <Fragment slot="title">Our Mission</Fragment>
      <Fragment slot="desc">WHAT WE DO?</Fragment>
    </Sectionhead>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 mt-8">
      <div>
        <h3 class="text-xl font-semibold text-slate-900">Innovation in Autonomous Marine Technology</h3>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          We strive to be at the forefront of <strong>AI-driven autonomy</strong> and design, developing cutting-edge autonomous ASVs. Our goal is to push the boundaries of technology to create more efficient and effective ASVs.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-semibold text-slate-900">Ecological Sciences and Water Research</h3>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          We aim to advance <strong>ecological and water research</strong> by collaborating with research labs and conducting independent studies on Lake Ontario. Our ASV technology supports environmental monitoring and sustainability efforts, contributing to the understanding and preservation of aquatic ecosystems.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-semibold text-slate-900">Hands-On Learning and Professional Development</h3>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          We provide students with valuable hands-on experience in building and programming autonomous vehicles. This includes offering <strong>fieldwork opportunities</strong> to disciplines that traditionally lack such exposure, such as mechanical, computer, and electrical engineering. 
        </p>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          Through teamwork and practical application, we foster an environment where students from all disciplines can learn and grow professionally. Additionally, we are committed to recruiting first-year students, ensuring they gain early exposure to real-world projects and become integral parts of our team from the start.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-semibold text-slate-900">Commitment to EDII and Outreach</h3>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          We are dedicated to upholding <strong>Equity, Diversity, Inclusion, and Indigeneity (EDII)</strong> principles, ensuring a diverse and inclusive team. This commitment enriches our project and community, promoting a culture of respect and collaboration.
        </p>
        <p class="text-lg leading-relaxed text-slate-500 mt-3">
          Additionally, we are committed to outreach, actively engaging in initiatives that give back to our community. By fostering an inclusive environment and prioritizing outreach efforts, we aim to make a <strong>positive impact both within and beyond our university</strong>.
        </p>
      </div>
    </div>

    <Sectionhead>
      <Fragment slot="title">Competition</Fragment>
      <Fragment slot="desc">WHAT WE AIM TO ACHIEVE?</Fragment>
    </Sectionhead>

    <div class="mx-auto max-w-4xl mt-8">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 items-center">
        <!-- Image Column -->
        <div class="flex justify-center lg:col-span-1">
          <Picture
            src={roboboatImage}
            alt="logo of roboBoat Competition"
            sizes="(max-width: 800px) 100vw, 200px"
            width={300}
            height={300}
          />
        </div>
    
        <!-- Text Column -->
        <div class="lg:col-span-2">
          <p class="text-lg leading-relaxed text-slate-500">
            In 2025, aQuatonomous plans to compete in the <strong>RoboNation RoboBoat Competition</strong>. This event provides an excellent platform to demonstrate our ASV and to achieve our mission of generating clean-powered vessels that support ecological research and restoration. Competing on a global stage allows us to showcase our cutting-edge technology and commitment to sustainability while fostering collaboration and learning within the international community.
          </p>
        </div>
      </div>
    </div>
    

  </Container>
</Layout>
<script>
  import * as THREE from 'three';
  import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';
  import { SimplexNoise } from 'three/examples/jsm/math/SimplexNoise.js';

  export default class Sketch {
    constructor(options){
      this.container = options.domElement;
      this.width = window.innerWidth;
      this.height = window.innerHeight;

      this.camera = new THREE.PerspectiveCamera(70, this.width / this.height, 0.01, 10);
      this.camera.position.z = 1.5;

      this.scene = new THREE.Scene();

      this.renderer = new THREE.WebGLRenderer({ 
        antialias: true,
        alpha: true 
      });
      this.renderer.setClearColor(0x000000, 0);
      this.renderer.setPixelRatio(window.devicePixelRatio);

      this.container.appendChild(this.renderer.domElement);
      this.controls = new OrbitControls(this.camera, this.renderer.domElement);

      this.time = 0;
      this.noise = new SimplexNoise();

      this.resize();
      this.addObjects();
      this.render();

      this.setupResize();
    }

    resize(){
      this.width = window.innerWidth;
      this.height = window.innerHeight;
      this.renderer.setSize(this.width, this.height);
      this.camera.aspect = this.width / this.height;
      this.camera.updateProjectionMatrix();
    }

    setupResize(){
      window.addEventListener('resize', this.resize.bind(this));
    }

    addObjects(){
      // Create a plane geometry
      this.geometry = new THREE.PlaneGeometry(5, 5, 400, 400);

      // Modify geometry vertices using SimplexNoise
      const vertices = this.geometry.attributes.position;
      for (let i = 0; i < vertices.count; i++) {
        const x = vertices.getX(i);
        const y = vertices.getY(i);
        const z = this.noise.noise(x * 1.5, y * 1.5) * 0.2;
        vertices.setZ(i, z);
      }

      // Remap UV coordinates for altitude mapping
      const uvs = this.geometry.attributes.uv;
      for (let i = 0; i < vertices.count; i++) {
        const z = vertices.getZ(i);
        uvs.setXY(i, 0, z);
      }

      this.geometry.attributes.position.needsUpdate = true;
      this.geometry.attributes.uv.needsUpdate = true;

      // Create a canvas texture
      const canvas = document.createElement('canvas');
      canvas.width = 256;
      canvas.height = 256;
      const ctx = canvas.getContext('2d');
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.strokeStyle = "#c1def6";
      ctx.lineWidth = 2;
      for (let i = 0; i < canvas.height; i += 20) {
        ctx.beginPath();
        ctx.moveTo(0, i);
        ctx.lineTo(canvas.width, i);
        ctx.stroke();
      }

      const texture = new THREE.CanvasTexture(canvas);
      texture.wrapS = THREE.RepeatWrapping;
      texture.wrapT = THREE.RepeatWrapping;
      texture.repeat.set(5, 2); // Adjust repeat for line density
      texture.wrapS = THREE.RepeatWrapping;
      texture.wrapT = THREE.RepeatWrapping;

       this.material = new THREE.MeshBasicMaterial({ map: texture });

      this.mesh = new THREE.Mesh(this.geometry, this.material);
      this.scene.add(this.mesh);

      this.texture = texture; // Save texture reference for animation
    }
  
    render(){
      this.time += 0.05;
      this.mesh.rotation.y = 0;

      // Animate texture offset to move the lines
      this.texture.offset.y -= 0.0001;

  
      this.renderer.render(this.scene, this.camera);
      requestAnimationFrame(this.render.bind(this));
    }
  }
  
  new Sketch({
    domElement: document.getElementById('container')
  });
</script>